<!DOCTYPE html>
<html>
<head>
  <title>Minecraft Parkour</title>
  <style>
    body { margin: 0; overflow: hidden; background: skyblue; }
    canvas { display: block; margin: auto; background: #87CEEB; }
  </style>
</head>
<body>
  <canvas id="game" width="800" height="400"></canvas>

  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    // Load Images
    const imgPlayer = new Image();
    imgPlayer.src = "player.png";   // ðŸ‘‰ à¤¤à¥‡à¤°à¥€ à¤¦à¥€ à¤¹à¥à¤ˆ skin (same folder à¤®à¥‡à¤‚ à¤°à¤–à¤¨à¥€ à¤¹à¥ˆ)

    const imgZombie = new Image();
    imgZombie.src = "zombie.png";   // Enemy (zombie image à¤¡à¤¾à¤²à¤¨à¤¾ à¤ªà¤¡à¤¼à¥‡à¤—à¤¾)

    const imgGrass = new Image();
    imgGrass.src = "grass.png";     // Grass block
    const imgDirt = new Image();
    imgDirt.src = "dirt.png";       // Dirt block
    const imgWater = new Image();
    imgWater.src = "water.png";     // Water block

    // Game settings
    const gravity = 0.8;
    let score = 0;

    // Player
    const player = { x: 100, y: 300, w: 50, h: 50, velY: 0, onGround: false };

    // Enemy (Zombie)
    const enemy = { x: 700, y: 300, w: 50, h: 50, speed: 4 };

    // Platforms (grass/dirt/water blocks)
    const platforms = [
      { x: 0,   y: 350, w: 100, h: 50, type: "grass" },
      { x: 150, y: 300, w: 100, h: 50, type: "dirt" },
      { x: 300, y: 250, w: 100, h: 50, type: "grass" },
      { x: 450, y: 200, w: 100, h: 50, type: "dirt" },
      { x: 600, y: 350, w: 100, h: 50, type: "water" }
    ];

    let keys = {};

    // Key controls
    window.addEventListener("keydown", e => keys[e.code] = true);
    window.addEventListener("keyup", e => keys[e.code] = false);

    function gameLoop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Move player
      if (keys["ArrowLeft"]) player.x -= 5;
      if (keys["ArrowRight"]) player.x += 5;

      // Jump
      if (keys["Space"] && player.onGround) {
        player.velY = -15;
        player.onGround = false;
      }

      // Gravity
      player.velY += gravity;
      player.y += player.velY;

      // Platforms collision
      player.onGround = false;
      for (let p of platforms) {
        if (player.x < p.x + p.w &&
            player.x + player.w > p.x &&
            player.y + player.h > p.y &&
            player.y + player.h < p.y + 20 &&
            player.velY >= 0) {
          player.y = p.y - player.h;
          player.velY = 0;
          player.onGround = true;
        }

        // Draw blocks
        if (p.type === "grass") ctx.drawImage(imgGrass, p.x, p.y, p.w, p.h);
        else if (p.type === "dirt") ctx.drawImage(imgDirt, p.x, p.y, p.w, p.h);
        else if (p.type === "water") ctx.drawImage(imgWater, p.x, p.y, p.w, p.h);
      }

      // Enemy movement
      enemy.x -= enemy.speed;
      if (enemy.x < -enemy.w) {
        enemy.x = canvas.width + Math.random() * 300;
        score++;
      }

      // Collision with enemy
      if (player.x < enemy.x + enemy.w &&
          player.x + player.w > enemy.x &&
          player.y < enemy.y + enemy.h &&
          player.y + player.h > enemy.y) {
        alert("Game Over! Score: " + score);
        document.location.reload();
      }

      // Draw player + enemy
      ctx.drawImage(imgPlayer, player.x, player.y, player.w, player.h); //
      ctx.drawImage(imgZombie, enemy.x, enemy.y, enemy.w, enemy.h);

      // Score
      ctx.fillStyle = "black";
      ctx.font = "20px Arial";
      ctx.fillText("Score: " + score, 10, 20);

      requestAnimationFrame(gameLoop);
    }

    gameLoop();
  </script>
</body>
</html>
