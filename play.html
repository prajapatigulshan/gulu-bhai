<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GBG Parkour - Minecraft Style</title>
<style>
/* ===== BODY & BACKGROUND ===== */
body {
  margin: 0;
  font-family: Arial, sans-serif;
  overflow: hidden;
  background: linear-gradient(270deg, red, orange, yellow, green, cyan, blue, violet, red);
  background-size: 1500% 1500%;
  animation: bgRGB 30s ease infinite;
  color: white;
  text-align: center;
}
@keyframes bgRGB {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
@keyframes rgbMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
.rgb-text {
  background: linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet, red);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: rgbMove 8s linear infinite;
  font-weight: bold;
}
.header {
  position: fixed;
  top: 0;
  width: 100%;
  background: rgba(0,0,0,0.85);
  padding: 15px;
  z-index: 1000;
  box-shadow: 0 0 15px #00ffc8;
}
.logo span {
  font-size: 28px;
  font-weight: bold;
  background: linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet, red);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: rgbMove 8s linear infinite;
}
#coinDisplay {
  font-size: 20px;
  margin-top: 10px;
}
canvas {
  border: 3px solid #00ffc8;
  background: #111;
  display: block;
  margin: 20px auto;
}
button {
  padding: 8px 15px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  font-weight: bold;
  background: linear-gradient(90deg, red, orange, yellow, green, cyan, blue, violet, red);
  color: black;
  animation: rgbMove 6s linear infinite;
}
</style>
</head>
<body>
<div class="header">
  <div class="logo"><span>GBG Parkour</span></div>
  <div id="coinDisplay">ðŸ’° Coins: 0</div>
</div>
<canvas id="gameCanvas" width="1000" height="600"></canvas>
<div style="text-align:center;"><button onclick="restartGame()">Restart Game</button></div>
<script>
// ===== COINS =====
let coins = localStorage.getItem('coins') ? parseInt(localStorage.getItem('coins')) : 0;
document.getElementById('coinDisplay').innerText = 'ðŸ’° Coins: ' + coins;

// ===== CANVAS =====
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

// ===== PLAYER =====
const player = {
  x: 50,
  y: 500,
  width: 40,
  height: 50,
  vy: 0,
  vx: 0,
  jumping: false,
  onGround: false,
  sprite: new Image()
};
player.sprite.src = 'https://i.imgur.com/Lj8pH8I.png'; // Minecraft-style player sprite

// ===== PLATFORMS =====
let platforms = [];
for(let i=0;i<15;i++){
  let width = 100 + Math.random()*150;
  let x = i===0 ? 0 : platforms[i-1].x + platforms[i-1].width + 50;
  let y = 500 - Math.random()*250;
  platforms.push({x, y, width, height:20});
}

// ===== COINS =====
let gameCoins = [];
platforms.forEach(p=>{
  if(Math.random()<0.5){
    gameCoins.push({x:p.x+p.width/2-10, y:p.y-30, collected:false});
  }
});

// ===== CONTROLS =====
const keys = {};
document.addEventListener('keydown', e=>{ keys[e.key] = true; });
document.addEventListener('keyup', e=>{ keys[e.key] = false; });

// ===== SOUNDS =====
const coinSound = new Audio('https://freesound.org/data/previews/341/341695_6249176-lq.mp3');
const jumpSound = new Audio('https://freesound.org/data/previews/331/331912_3248244-lq.mp3');
const fallSound = new Audio('https://freesound.org/data/previews/178/178046_3248244-lq.mp3');

// ===== GAME LOOP =====
function gameLoop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  
  // ===== PLAYER PHYSICS =====
  player.vy += 0.8; // gravity
  player.y += player.vy;
  player.x += player.vx;

  // left/right
  if(keys['ArrowRight']) player.vx = 5;
  else if(keys['ArrowLeft']) player.vx = -5;
  else player.vx = 0;

  // jump
  if(keys[' '] && player.onGround){
    player.vy = -15;
    player.jumping = true;
    player.onGround = false;
    jumpSound.play();
  }

  // ===== COLLISIONS =====
  player.onGround = false;
  platforms.forEach(p=>{
    if(player.x + player.width > p.x && player.x < p.x + p.width && player.y + player.height > p.y && player.y + player.height < p.y + p.height + 10){
      player.y = p.y - player.height;
      player.vy = 0;
      player.onGround = true;
      player.jumping = false;
    }
  });

  // ===== FALL DETECT =====n  if(player.y>canvas.height){
    fallSound.play();
    restartGame();
  }

  // ===== DRAW PLATFORMS =====
  ctx.fillStyle='brown';
  platforms.forEach(p=>ctx.fillRect(p.x,p.y,p.width,p.height));

  // ===== DRAW COINS =====
  gameCoins.forEach(c=>{
    if(!c.collected){
      ctx.fillStyle='yellow';
      ctx.beginPath();
      ctx.arc(c.x+10,c.y+10,10,0,Math.PI*2);
      ctx.fill();
      // check collect
      if(player.x+player.width>c.x && player.x<c.x+20 && player.y+player.height>c.y && player.y<c.y+20){
        c.collected=true;
        coins+=10;
        localStorage.setItem('coins',coins);
        document.getElementById('coinDisplay').innerText = 'ðŸ’° Coins: ' + coins;
        coinSound.play();
      }
    }
  });

  // ===== DRAW PLAYER =====
  ctx.drawImage(player.sprite, player.x, player.y, player.width, player.height);

  requestAnimationFrame(gameLoop);
}

function restartGame(){
  player.x=50; player.y=500; player.vy=0;
  platforms = [];
  for(let i=0;i<15;i++){
    let width = 100 + Math.random()*150;
    let x = i===0 ? 0 : platforms[i-1].x + platforms[i-1].width + 50;
    let y = 500 - Math.random()*250;
    platforms.push({x, y, width, height:20});
  }
  gameCoins = [];
  platforms.forEach(p=>{
    if(Math.random()<0.5){
      gameCoins.push({x:p.x+p.width/2-10, y:p.y-30, collected:false});
    }
  });
}

gameLoop();
</script>
</body>
</html>
